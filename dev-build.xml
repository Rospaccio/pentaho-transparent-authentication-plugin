<?xml version="1.0" encoding="UTF-8"?>
<project name="pentaho-transparent-authentication-plugin" default="deploy-unpack">
	<description>Deploy utility for a development environment</description>
	<property file="dev-build.properties"></property>
	
	<target name="delete-deploy-dir">
		<delete dir="${plugin.deploy.dir}"></delete>
	</target>
	
	<target name="deploy-unpack" depends="delete-deploy-dir">
		<unzip dest="${pentaho.system.dir}" src="${artefact}"></unzip>
	</target>
	
	<target name="overwrite-sources">
		<!-- Copies files back from pentaho to the project folder. 
		Useful when files like the dashboards' ones are modified with the Pentaho web editor -->
		<copy todir="." verbose="true">
			<fileset dir="${plugin.deploy.dir}">
				<exclude name="**/pentaho-authentication-ext-0.1.jar"/>
			</fileset>
		</copy>
	</target>
	
</project>